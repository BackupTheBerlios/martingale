5-17-03:

LMMs working on swaptions and caplets,
Book swaption formula verified.

5-30-03:

Most files split into .cc and .h files.
templatization of boost::random random number generators
causes problems, reverted to Random::U01 in all nonessentail applications.
Standard normal deviates are still Mersenne twister mt19937 based.

LiborProcess, LognormalLiborVector, EmpiricalRandomVariable (is part of
RandomVariables) deleted.


6-2-03:

Massive linking problems when splitting StochasticProcesses, TestLMM, 
TestProbabiliy, TestMatrix into .h and .cc files.
"Undefined reference foo" although foo is defined in the .cc file
and no templates are involved. Cannot understand what's going on.

Matrix class expanded to encompass non square matrices.
Matrix multiply and exponential tests still pass.


6-15-03:

Working on LiborTree2F.h
TnT.h can be eliminated. Integrated into Matrices.h as global functions.


6-20-03:

LiborTree2F: 

Matrix inversion of the last two rows of the rank 2 root of the covariation matrix
is ill conditioned because of the high correlation of V_{n-2}, V_{n-1}.
Decorrelate these from the beginning.

Swaption valuation in a LiborTree2F runs but produces an incorrect result.
The value H[t] in the nodes is too large (much larger than the remaining H[j]).

NEW CLASS: LowfactorDriftlessLMM, DriftlessLMM with number of factors reduced
to r, that is, the covariation matrices C(t) controlling the time steps are factored
as C(t) = R(t)R(t)' with R(t) of rank r. Tested on swaption and seems to be working.

SobolVectorDriver inefficient for this LMM since it is allocated in a dimension which 
assumes that full Libor paths are computed. This dimension may be too high.
No other effect but inefficiency. Cannot be resolved unless a new driver is written.


6-21-03:

LiborTree2F: decorrelation V_{n-2}, V_{n-1}  -->  V_{n-2}-V_{n-1}, V_{n-1} implemented.
No improvement.

6-23-03:

Split up Libortree2F into Lattice.h, Node.h, LmmLattice.h, LatticeOption.h
Two factor lattice for the Libor market model is working in the case of constant
Libor volatilities (ConstVolLmmLattice2F). Swaption priced correctly.

Next: implement lattices for asset baskets, American lattice options.


7-3-03:

Files changed: Matrices.h, Lmmlattice.h, Lattice.h, LatticeOption.h,
Node.h.

Eliminated general 2 factor LmmLattice since the recovery of the V_j from 
two of these variables is not sound in the context of a stochastic process. 
Recover this file for the implementation of asset baskets with 1,2 or 3 assets and 
nonconstant volatilities.

Generalized constant volatility Lmmlattices to more than one time step per Libor accrual interval.
Added Array.h, lightweight array classes in dimension 1,2,3 and LiborArray2D an array
adapted to Libor simulation with more than one time step per Libor accrual interval.

Next:

Move SubscriptCheck to Utils.h to make Matrices.h independent of Array.h
and avoid recompilation of Matrices.h whenever Array.h is changed.
Three factor constant volatility LmmLattice and associated options.

7-4-03:

Files changed: LmmLattice.h,cc; Node.h,cc; LatticeOption.h

Three factor lattice for the driftless LMM with constant U_j - volatilities
implemented. Test: 2 time steps per Libor accrual interval work as well as three time steps.


7-7-03:

Files changed: Optimizers.h, Lattice.h, LmmLattice.h, Utils.h, Utils.cc, Array.h
               BasketLattice.h, BasketLattice.cc;

New: Optimizers.h, BasketLattice.h.

Write html file about linking issues, eg. whatever is included from a header file
is dragged everywhere the header file is included, thus better to move includes into the
.cc files unless the header really needs the include. Likewise remark on problems with 
implementations in headers (for example problems with forward declarations).


7-8-03:

Files changed: 

Optimizer.h,cc; LiborCalibrator.h; LiborFactorLoading.h; TestOptimizers.h,cc.

Added restarts to BFGS Optimizers. No improvement on the sample function.
Added TypeID to LiborFactorloading (integer flag).

New: LiborCalibrator, reads and writes data. 
Check if the list are correctly freed (most likely not) or a destructor has to be written.


7-11-03: MAJOR REWRITE.

Intermediate backup, not compiled yet.

Replaced Real* with RealArray1D throughout, 
LiborFactorLoading: separated vol-functions and correlations out as separate classes
so they can be combined arbitrarily to form more factor loadings.
LiborFactorLoading becomes a concrete class, vol-surface and correlations are
handed to the constructor as parameters.

New data structures: RealArray1D,2D, RealVector, RealMatrix instead of Real*, Real**.
Use of "const" wherever possible.

Files affected:

Array.h; LiborMarketModel.h,cc; LiborFactorLoading.h,cc; 
DriftlessLMM.h,cc; LowFactorDriftlessLMM.h,cc; PredictorCorrectorLMM.h,cc;
FastPredictorCorrectorLMM.h,cc; Derivatives.h;

NEW: 

LiborCorrelation, VolatilitySurface: !! check if integral formulas transcribed correctly.
Mistakes should show up as nonpositive definite log-Libor covariation matrices. 


REMOVED: LognormalLMM and corresponding radical simplification of LiborFactorLoading.


7-17-03:

Rewrite largely complete. Caplet test works, LatticeSwaption test works.
VolSurface integrals tested and pass.
Now working on Calibration.
Calibrator is able to write synthetic data.







